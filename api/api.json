{
    "openapi": "3.0.2",
    "info": {
        "title": "label.bkict.org Gateway API",
        "version": "1.0"
    },
    "components": {
        "schemas": {
            "User": {
                "type": "object",
                "description": "A user in the system.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "User ID, should be unique across all user."
                    },
                    "username": {
                        "type": "string",
                        "description": "Username, used to log into the system. Should be unique across all user.",
                        "minLength": 6,
                        "maxLength": 64,
                        "pattern": "^[a-zA-Z0-9]+$"
                    },
                    "display_name": {
                        "type": "string",
                        "description": "The user's name, to be displayed on the UI.",
                        "minLength": 1,
                        "maxLength": 256
                    }
                }
            },
            "UserPassword": {
                "type": "string",
                "description": "The password of an user in the system.",
                "minLength": 8
            },
            "Token": {
                "type": "string",
                "description": "A token that allow the user to be authenticated to the system."
            },
            "UserRole": {
                "type": "object",
                "description": "A role in the system, which may contain some UserPermission that allows the user to operate on the system.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "User role ID, should be unique across all user role."
                    },
                    "display_name": {
                        "type": "string",
                        "description": "The user role's name, to be displayed on the UI.",
                        "minLength": 1,
                        "maxLength": 256
                    },
                    "description": {
                        "type": "string",
                        "description": "A short description about the user role.",
                        "maxLength": 256
                    }
                }
            },
            "UserPermission": {
                "type": "object",
                "description": "A permission in the system, allowing the user to operate certain features on the system.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "User permission ID, should be unique across all user role."
                    },
                    "permission_name": {
                        "type": "string",
                        "description": "The permission name. Should only contain letter, number, underscore (_) and dot (.). Dots should be used to separate the namespace of the permission, allowing easy organization of the permission, such as user.manage, image.view, etc...",
                        "minLength": 1,
                        "maxLength": 256,
                        "pattern": "^[a-zA-Z0-9_.]+$"
                    },
                    "description": {
                        "type": "string",
                        "description": "A short description about the user permission.",
                        "maxLength": 256
                    }
                }
            },
            "ImageType": {
                "type": "object",
                "description": "An image type for images on the system. The type of an image determines which tags the image can be assigned with and which labels the regions on that image can take.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "Image yype ID, should be unique across all image type."
                    },
                    "display_name": {
                        "type": "string",
                        "description": "The image type's name, to be displayed on the UI.",
                        "minLength": 1,
                        "maxLength": 256
                    },
                    "has_predictive_model": {
                        "type": "boolean",
                        "description": "If true, the system can automatically detect regions on images of this type. This value should only be set manually by the developers."
                    }
                }
            },
            "RegionLabel": {
                "type": "object",
                "description": "A label that a region on an image can take. Each RegionLabel is associated with one ImageType only.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "Region label ID, should be unique across all label."
                    },
                    "display_name": {
                        "type": "string",
                        "description": "The region label's name, to be displayed on the UI.",
                        "minLength": 1,
                        "maxLength": 256
                    },
                    "color": {
                        "type": "string",
                        "description": "The color for regions assigned with this label.",
                        "pattern": "^#[0-9A-F]{6}$"
                    }
                }
            },
            "ImageTagGroup": {
                "type": "object",
                "description": "A group of tag values. If an Image Tag Group is associated with an Image Type, images of that Image Type can be assigned with Tag values of that Image Tag Group.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "Image tag group ID, should be unique across all tag group."
                    },
                    "display_name": {
                        "type": "string",
                        "description": "The image tag group's name, to be displayed on the UI.",
                        "minLength": 1,
                        "maxLength": 256
                    },
                    "is_single_value": {
                        "type": "boolean",
                        "description": "If true, each image can only be assigned with one tag of this tag group. Otherwise, multiple tags of this group can be assigned to the same image."
                    }
                }
            },
            "ImageTag": {
                "type": "object",
                "description": "A tag value, that can be assigned to an image for classification purpose.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "Image tag ID, should be unique across all tag."
                    },
                    "display_name": {
                        "type": "string",
                        "description": "The image tag's name, to be displayed on the UI.",
                        "minLength": 1,
                        "maxLength": 256
                    }
                }
            },
            "Image": {
                "type": "object",
                "description": "An image on the system.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "Image ID, should be unique across all image."
                    },
                    "of_user": {
                        "$ref": "#/components/schemas/User"
                    },
                    "uploaded_time": {
                        "type": "integer",
                        "description": "The time when this image was uploaded to the system."
                    },
                    "original_file_name": {
                        "type": "string",
                        "description": "The original file name of the image, when uploaded by the user."
                    },
                    "image_url": {
                        "type": "string",
                        "description": "The URL to the full-size image on the system."
                    },
                    "thumbnail_url": {
                        "type": "string",
                        "description": "The URL to the compressed small-size thumbnail of the image, for display purpose."
                    },
                    "description": {
                        "type": "string",
                        "description": "The description for the image."
                    },
                    "image_type": {
                        "$ref": "#/components/schemas/ImageType"
                    },
                    "status": {
                        "type": "integer",
                        "description": "The status of the image on the system. Can take a value of 0 (UPLOADED - for images that are just uploaded to the system), 1 (PUBLISHED - for images that are published for other users to verify), 2 (VERIFIED - for images that are verified by other users) or 3 (EXCLUDED - for images that are excluded from publication and are intended for presentation only).",
                        "minimum": 0,
                        "maximum": 3
                    }
                }
            },
            "Point": {
                "type": "object",
                "description": "A point on a 2D plane.",
                "properties": {
                    "x": {
                        "type": "number",
                        "description": "The x-coordinate of the point."
                    },
                    "y": {
                        "type": "number",
                        "description": "The y-coordinate of the point."
                    }
                }
            },
            "Polygon": {
                "type": "object",
                "description": "A polygon on a 2D plane. Polygons are represented by an array of its vertices - two consecutive elements of the array, as well as the first and the last element of the array share an edge together.",
                "properties": {
                    "vertex": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Point"
                        },
                        "minItems": 3,
                        "maxItems": 327680
                    }
                }
            },
            "Region": {
                "type": "object",
                "description": "A region on an image on the system.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "Region ID, should be unique across all region."
                    },
                    "drawn_by_user": {
                        "$ref": "#/components/schemas/User"
                    },
                    "labeled_by_user": {
                        "$ref": "#/components/schemas/User"
                    },
                    "border": {
                        "$ref": "#/components/schemas/Polygon"
                    },
                    "holes": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Polygon"
                        },
                        "description": "The holes inside the border of the region. Holes cannot intersect with each other, and cannot intersect with the border of the region."
                    },
                    "label": {
                        "$ref": "#/components/schemas/RegionLabel"
                    }
                }
            },
            "RegionOperationLog": {
                "type": "object",
                "description": "A log of operations on a region.",
                "properties": {
                    "id": {
                        "type": "integer",
                        "description": "Log ID, should be unique across all log."
                    },
                    "by_user": {
                        "$ref": "#/components/schemas/User"
                    },
                    "operation_time": {
                        "type": "integer",
                        "description": "The time when this operation took place."
                    },
                    "operation_type": {
                        "type": "integer",
                        "description": "The type of operation. Can take a value of 0 (DRAW - for operations where the user draws/redraws the border/holes of the region) or 1 (LABEL - for operations where the user assign a label for the region)."
                    },
                    "operation_metadata": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/RegionOperationLogDrawMetadata"
                            },
                            {
                                "$ref": "#/components/schemas/RegionOperationLogLabelMetadata"
                            }
                        ],
                        "description": "Metadata of the operation. For DRAW operations, this is a RegionOperationLogDrawMetadata object. For LABEL operations, this is a RegionOperationLogLabelMetadata object."
                    }
                }
            },
            "RegionOperationLogDrawMetadata": {
                "type": "object",
                "description": "Metadata for DRAW operation on a Region.",
                "properties": {
                    "old_border": {
                        "$ref": "#/components/schemas/Region/properties/border"
                    },
                    "old_holes": {
                        "$ref": "#/components/schemas/Region/properties/holes"
                    },
                    "new_border": {
                        "$ref": "#/components/schemas/Region/properties/border"
                    },
                    "new_holes": {
                        "$ref": "#/components/schemas/Region/properties/holes"
                    }
                }
            },
            "RegionOperationLogLabelMetadata": {
                "type": "object",
                "description": "Metadata for LABEL operation on a Region.",
                "properties": {
                    "old_label": {
                        "$ref": "#/components/schemas/Region/properties/label"
                    },
                    "new_label": {
                        "$ref": "#/components/schemas/Region/properties/label"
                    }
                }
            }
        },
        "securitySchemes": {
            "AuthenticationToken": {
                "type": "apiKey",
                "in": "cookie",
                "name": "LABEL_BKICT_AUTH"
            }
        }
    },
    "paths": {
        "/api/users": {
            "post": {
                "description": "Create a new user.",
                "tags": [
                    "User Management"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "username": {
                                        "$ref": "#/components/schemas/User/properties/username"
                                    },
                                    "display_name": {
                                        "$ref": "#/components/schemas/User/properties/display_name"
                                    },
                                    "password": {
                                        "$ref": "#/components/schemas/UserPassword"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User created successfully.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to create user because the username or display name does not satisfy the constraints."
                    },
                    "409": {
                        "description": "Failed to create user because the username has already been taken."
                    }
                }
            },
            "get": {
                "description": "Get user list. User needs to have `users.read` permission in order to call this API successfully.",
                "tags": [
                    "User Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "offset",
                        "description": "The index of the first item to be returned.",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 0
                        }
                    },
                    {
                        "name": "limit",
                        "description": "The maximum number of items to be returned.",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "maximum": 100,
                            "default": 10
                        }
                    },
                    {
                        "name": "sort_order",
                        "description": "The order to return items in. Can be either 0 (sorted by ascending id), 1 (sorted by descending id), 2 (sorted by ascending username) or 3 (sorted by descending username), 4 (sorted by ascending display name) or 5 (sorted by descending display name).",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 5,
                            "default": 0
                        }
                    },
                    {
                        "name": "with_user_role",
                        "description": "If equal to 1, will return the list of user roles each user in the list has.",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 1,
                            "default": 0
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User list retrieved successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "total_user_count": {
                                            "type": "integer",
                                            "description": "The total number of users."
                                        },
                                        "user_list": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/User"
                                            },
                                            "description": "The list of users."
                                        },
                                        "user_role_list": {
                                            "type": "array",
                                            "items": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/UserRole"
                                                }
                                            },
                                            "description": "If with_user_role = 1, this field is the list of user roles each user in user_list has, in the same order. If with_user_role = 0, this field is not returned."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to retrieve user list because the arguments provideds does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to retrieve user list because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to retrieve user list because the user does not have the necessary permission."
                    }
                }
            }
        },
        "/api/users/{user_id}": {
            "patch": {
                "description": "Update user information. User needs to have `users.write` permission in order to call this API to update other user's information successfully. Any field that is not provided will not be updated.",
                "tags": [
                    "User Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "description": "The user whose information will be updated.",
                        "schema": {
                            "$ref": "#/components/schemas/User/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "username": {
                                        "$ref": "#/components/schemas/User/properties/username"
                                    },
                                    "display_name": {
                                        "$ref": "#/components/schemas/User/properties/display_name"
                                    },
                                    "password": {
                                        "$ref": "#/components/schemas/UserPassword"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User updated successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to update user because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to update user because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to update user because the user does not have the necessary permission."
                    },
                    "409": {
                        "description": "Failed to update user because the username has already been taken."
                    }
                }
            }
        },
        "/api/sessions/password": {
            "post": {
                "description": "Login with password. If the user is successfully logged in, an authorization token is included in the response as a cookie, allowing the user to operate on the system.",
                "tags": [
                    "Session Management"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "username": {
                                        "type": "string",
                                        "description": "Username, used to log into the system. Should be unique across all user."
                                    },
                                    "password": {
                                        "type": "string",
                                        "description": "The password of an user in the system."
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User is logged in successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Authentication token for the newly created user.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                },
                                "required": true
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "user": {
                                            "$ref": "#/components/schemas/User"
                                        },
                                        "user_role_list": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/UserRole"
                                            }
                                        },
                                        "user_permission_list": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/UserPermission"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to log user in because of incorrect password."
                    },
                    "404": {
                        "description": "Failed to log user in because there is no user with the provided username."
                    }
                }
            }
        },
        "/api/sessions": {
            "delete": {
                "description": "Log out. User needs to already be logged in to the system in order to call this API successfully.",
                "tags": [
                    "Session Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User is logged out successfully."
                    },
                    "401": {
                        "description": "Failed to log user out because the user has not been logged in."
                    }
                }
            },
            "get": {
                "description": "Get the current session's user information. User needs to already be logged in to the system in order to call this API successfully.",
                "tags": [
                    "Session Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Retrieved session's user information successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "user": {
                                            "$ref": "#/components/schemas/User"
                                        },
                                        "user_role_list": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/UserRole"
                                            }
                                        },
                                        "user_permission_list": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/UserPermission"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid session information, no user is associated with it."
                    }
                }
            }
        },
        "/api/roles": {
            "post": {
                "description": "Create a new user role. User needs to have `user_roles.write` permission in order to call this API successfully.",
                "tags": [
                    "User Role Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/UserRole/properties/display_name"
                                    },
                                    "description": {
                                        "$ref": "#/components/schemas/UserRole/properties/description"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User role created successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserRole"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to create user role because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to create user role because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to create user role because the user does not have the necessary permission."
                    }
                }
            },
            "get": {
                "description": "Get user role list. User needs to have `user_roles.read` permission in order to call this API successfully.",
                "tags": [
                    "User Role Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "offset",
                        "description": "The index of the first item to be returned.",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 0
                        }
                    },
                    {
                        "name": "limit",
                        "description": "The maximum number of items to be returned.",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "maximum": 100,
                            "default": 10
                        }
                    },
                    {
                        "name": "sort_order",
                        "description": "The order to return items in. Can be either 0 (sorted by ascending id), 1 (sorted by descending id), 2 (sorted by ascending display name) or 3 (sorted by descending display name).",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 5,
                            "default": 0
                        }
                    },
                    {
                        "name": "with_user_permission",
                        "description": "If equal to 1, will return the list of user permissions each user role in the list has.",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 1,
                            "default": 0
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User role list retrieved successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "total_user_role_count": {
                                            "type": "integer",
                                            "description": "The total number of user roles."
                                        },
                                        "user_role_list": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/UserRole"
                                            },
                                            "description": "The list of user roles."
                                        },
                                        "user_permission_list": {
                                            "type": "array",
                                            "items": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/UserPermission"
                                                }
                                            },
                                            "description": "If with_user_permission = 1, this field is the list of user permissions each user role in user_role_list has, in the same order. If with_user_permission = 0, this field is not returned."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to retrieve user role list because the arguments provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to retrieve user role list because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to retrieve user role list because the user does not have the necessary permission."
                    }
                }
            }
        },
        "/api/roles/{user_role_id}": {
            "patch": {
                "description": "Update user role. User needs to have `user_roles.write` permission in order to call this API successfully.",
                "tags": [
                    "User Role Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_role_id",
                        "in": "path",
                        "description": "The ID of the user role to be updated.",
                        "schema": {
                            "$ref": "#/components/schemas/UserRole/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/UserRole/properties/display_name"
                                    },
                                    "description": {
                                        "$ref": "#/components/schemas/UserRole/properties/description"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User role updated successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserRole"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to update user role because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to update user role because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to update user role because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to update user role because no user role with the provided user_role_id is found."
                    }
                }
            },
            "delete": {
                "description": "Delete user role. User needs to have `user_roles.write` permission in order to call this API successfully.",
                "tags": [
                    "User Role Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_role_id",
                        "in": "path",
                        "description": "The ID of the user role to be deleted.",
                        "schema": {
                            "$ref": "#/components/schemas/UserRole/properties/id"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User role deleted successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to delete user role because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to delete user role because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to delete user role because no user role with the provided user_role_id is found."
                    }
                }
            }
        },
        "/api/users/{user_id}/roles": {
            "post": {
                "description": "Add a user role to a user. User needs to have `users.write` permission in order to call this API successfully.",
                "tags": [
                    "User Role Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "description": "The user to be added user role for.",
                        "schema": {
                            "$ref": "#/components/schemas/User/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "user_role_id": {
                                        "$ref": "#/components/schemas/UserRole/properties/id"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User role added to user successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to add user role to user because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to add user role to user because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to add user role to user because user with user_id or user role with user_role_id does not exist."
                    },
                    "409": {
                        "description": "Failed to add user role to user because user with user_id already has user role with user_role_id."
                    }
                }
            }
        },
        "/api/users/{user_id}/roles/{user_role_id}": {
            "delete": {
                "description": "Remove a user role from a user. User needs to have `users.write` permission in order to call this API successfully.",
                "tags": [
                    "User Role Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_id",
                        "in": "path",
                        "description": "The user to be remove user role for.",
                        "schema": {
                            "$ref": "#/components/schemas/User/properties/id"
                        },
                        "required": true
                    },
                    {
                        "name": "user_role_id",
                        "in": "path",
                        "description": "The user role to be removed from the user.",
                        "schema": {
                            "$ref": "#/components/schemas/UserRole/properties/id"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User role removed to user successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to remove user role from user because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to remove user role from user because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to remove user role from user because user with user_id or user role with user_role_id does not exist, or both of them exist but user does not have the user role."
                    },
                    "409": {
                        "description": "Failed to remove user role from user because user with user_id does not have user role with user_role_id."
                    }
                }
            }
        },
        "/api/permissions": {
            "post": {
                "description": "Create a new user permission. User needs to have `user_permissions.write` permission in order to call this API successfully.",
                "tags": [
                    "User Permission Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "permission_name": {
                                        "$ref": "#/components/schemas/UserPermission/properties/permission_name"
                                    },
                                    "description": {
                                        "$ref": "#/components/schemas/UserPermission/properties/description"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User permission created successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserPermission"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to create user permission because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to create user permission because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to create user permission because the user does not have the necessary permission."
                    }
                }
            },
            "get": {
                "description": "Get user permission list. User needs to have `user_permissions.read` permission in order to call this API successfully.",
                "tags": [
                    "User Permission Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User role list retrieved successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "user_permission_list": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/UserPermission"
                                            },
                                            "description": "The list of user permissions."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to retrieve user permission list because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to retrieve user permission list because the user does not have the necessary permission."
                    }
                }
            }
        },
        "/api/permissions/{user_permission_id}": {
            "patch": {
                "description": "Update user permission. User needs to have `user_permissions.write` permission in order to call this API successfully.",
                "tags": [
                    "User Permission Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_permission_id",
                        "in": "path",
                        "description": "The user permission to be updated.",
                        "schema": {
                            "$ref": "#/components/schemas/UserPermission/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "permission_name": {
                                        "$ref": "#/components/schemas/UserPermission/properties/permission_name"
                                    },
                                    "description": {
                                        "$ref": "#/components/schemas/UserPermission/properties/description"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User permission updated successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserPermission"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to update user permission because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to update user permission because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to update user permission because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to update user permission because no user permission with the provided user_permission_id is found."
                    }
                }
            },
            "delete": {
                "description": "Delete user permission. User needs to have `user_permissions.write` permission in order to call this API successfully.",
                "tags": [
                    "User Permission Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_permission_id",
                        "in": "path",
                        "description": "The user permission to be deleted.",
                        "schema": {
                            "$ref": "#/components/schemas/UserPermission/properties/id"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User permission deleted successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to delete user permission because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to delete user permission because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to delete user permission because no user permission with the provided user_permission_id is found."
                    }
                }
            }
        },
        "/api/roles/{user_role_id}/permissions": {
            "post": {
                "description": "Add a user permission to a user role. User needs to have `user_roles.write` permission in order to call this API successfully.",
                "tags": [
                    "User Permission Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_role_id",
                        "in": "path",
                        "description": "The user role to be added user permission for.",
                        "schema": {
                            "$ref": "#/components/schemas/UserRole/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "user_permission_id": {
                                        "$ref": "#/components/schemas/UserPermission/properties/id"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User permission added to user role successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to add user permission to user role because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to add user permission to user role because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to add user permission to user role because user role with user_role_id or user permission with user_permission_id does not exist."
                    },
                    "409": {
                        "description": "Failed to add user permission to user role because user role with user_role_id already has user permission with user_permission_id."
                    }
                }
            }
        },
        "/api/roles/{user_role_id}/permissions/{user_permission_id}": {
            "delete": {
                "description": "Remove a user permission from a user role. User needs to have `user_roles.write` permission in order to call this API successfully.",
                "tags": [
                    "User Permission Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "user_role_id",
                        "in": "path",
                        "description": "The user role to be remove user permission for.",
                        "schema": {
                            "$ref": "#/components/schemas/UserRole/properties/id"
                        },
                        "required": true
                    },
                    {
                        "name": "user_permission_id",
                        "in": "path",
                        "description": "The user permission to be removed from the user role.",
                        "schema": {
                            "$ref": "#/components/schemas/UserPermission/properties/id"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User permission removed from user role successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to remove user permission from user role because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to remove user permission from user role because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to remove user permission from user role because user role with user_role_id or user permission with user_permission_id does not exist."
                    },
                    "409": {
                        "description": "Failed to remove user permission from user role because user role with user_role_id does not have user permission with user_permission_id."
                    }
                }
            }
        },
        "/api/image-types": {
            "post": {
                "description": "Create a new image type. User needs to have `image_types.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Type Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/ImageType/properties/display_name"
                                    },
                                    "has_predictive_model": {
                                        "$ref": "#/components/schemas/ImageType/properties/has_predictive_model"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Image type created successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ImageType"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to create image type because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to create image type because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to create image type because the user does not have the necessary permission."
                    }
                }
            },
            "get": {
                "description": "Get image type list. User needs to have `image_types.read` permission in order to call this API successfully.",
                "tags": [
                    "Image Type Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "with_region_label",
                        "in": "query",
                        "description": "If equal to 1, will return the list of region labels each image type in the list has.",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 1,
                            "default": 0
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Image type list retrieved successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "image_type_list": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/ImageType"
                                            },
                                            "description": "The list of image types."
                                        },
                                        "region_label_list": {
                                            "type": "array",
                                            "items": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/RegionLabel"
                                                }
                                            },
                                            "description": "If with_region_label = 1, this field is the list of region labels each image type in image_type_list has, in the same order. If with_region_label = 0, this field is not returned."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to retrieve image type list because the arguments provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to retrieve image type list because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to retrieve image type list because the user does not have the necessary permission."
                    }
                }
            }
        },
        "/api/image-types/{image_type_id}": {
            "patch": {
                "description": "Update image type. User needs to have `image_types.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Type Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_type_id",
                        "in": "path",
                        "description": "The image type to be updated.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageType/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/ImageType/properties/display_name"
                                    },
                                    "has_predictive_model": {
                                        "$ref": "#/components/schemas/ImageType/properties/has_predictive_model"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Image type updated successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ImageType"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to update image type because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to update image type because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to update image type because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to update image type because no image type with the provided image_type_id is found."
                    }
                }
            },
            "delete": {
                "description": "Delete image type. User needs to have `image_types.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Type Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_type_id",
                        "in": "path",
                        "description": "The image type to be deleted.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageType/properties/id"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Image type deleted successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to delete image type because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to delete image type because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to delete image type because no image type with the provided image_type_id is found."
                    }
                }
            }
        },
        "/api/image-types/{image_type_id}/labels": {
            "post": {
                "description": "Create a new region label for an image type. User needs to have `image_types.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Type Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_type_id",
                        "in": "path",
                        "description": "The image type to be added region label for.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageType/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/RegionLabel/properties/display_name"
                                    },
                                    "color": {
                                        "$ref": "#/components/schemas/RegionLabel/properties/color"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Region label created successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RegionLabel"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to create region label because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to create region label because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to create region label because user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to create region label because image type with image_type_id does not exist."
                    }
                }
            }
        },
        "/api/image-types/{image_type_id}/labels/{region_label_id}": {
            "patch": {
                "description": "Update a region label of an image type. User needs to have `image_types.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Type Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_type_id",
                        "in": "path",
                        "description": "The image type to updated region label for.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageType/properties/id"
                        },
                        "required": true
                    },
                    {
                        "name": "region_label_id",
                        "in": "path",
                        "description": "The region label to be updated.",
                        "schema": {
                            "$ref": "#/components/schemas/RegionLabel/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/RegionLabel/properties/display_name"
                                    },
                                    "color": {
                                        "$ref": "#/components/schemas/RegionLabel/properties/color"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Region label updated successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RegionLabel"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to updated region label because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to updated region label because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to updated region label because user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to updated region label because image type with image_type_id or region label with region_label_id does not exist."
                    }
                }
            },
            "delete": {
                "description": "Delete a region label of an image type. User needs to have `image_types.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Type Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_type_id",
                        "in": "path",
                        "description": "The image type to deleted region label for.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageType/properties/id"
                        },
                        "required": true
                    },
                    {
                        "name": "region_label_id",
                        "in": "path",
                        "description": "The region label to be deleted.",
                        "schema": {
                            "$ref": "#/components/schemas/RegionLabel/properties/id"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Region label deleted successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to deleted region label because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to deleted region label because user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to deleted region label because image type with image_type_id or region label with region_label_id does not exist."
                    }
                }
            }
        },
        "/api/image-tag-groups": {
            "post": {
                "description": "Create a new image tag group. User needs to have `image_tags.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Tag Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/ImageTagGroup/properties/display_name"
                                    },
                                    "is_single_value": {
                                        "$ref": "#/components/schemas/ImageTagGroup/properties/is_single_value"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Image tag group created successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ImageTagGroup"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to create image tag group because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to create image tag group because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to create image tag group because the user does not have the necessary permission."
                    }
                }
            },
            "get": {
                "description": "Get image tag group list. User needs to have `image_tags.read` permission in order to call this API successfully.",
                "tags": [
                    "Image Tag Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "with_tag",
                        "in": "query",
                        "description": "If equal to 1, will return the list of tags each image tag group in the list has.",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 1,
                            "default": 0
                        }
                    },
                    {
                        "name": "with_allowed_image_type",
                        "in": "query",
                        "description": "If equal to 1, will return the list of allow image types that each image tag group in the list has.",
                        "schema": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 1,
                            "default": 0
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Image tag group list retrieved successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "image_tag_group_list": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/ImageTagGroup"
                                            },
                                            "description": "The list of image tag groups."
                                        },
                                        "image_tag_list": {
                                            "type": "array",
                                            "items": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/ImageTag"
                                                }
                                            },
                                            "description": "If with_tag = 1, this field is the list of tags each tag group in image_tag_group_list has, in the same order. If with_tag = 0, this field is not returned."
                                        },
                                        "image_type_list": {
                                            "type": "array",
                                            "items": {
                                                "type": "array",
                                                "items": {
                                                    "$ref": "#/components/schemas/ImageType"
                                                }
                                            },
                                            "description": "If with_allowed_image_type = 1, this field is the list of allowed image type each tag group in image_tag_group_list has, in the same order. If with_allowed_image_type = 0, this field is not returned."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to retrieve image tag group list because the arguments provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to retrieve image tag group list because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to retrieve image tag group list because the user does not have the necessary permission."
                    }
                }
            }
        },
        "/api/image-tag-groups/{image_tag_group_id}": {
            "patch": {
                "description": "Update image tag group. User needs to have `image_tags.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Tag Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_tag_group_id",
                        "in": "path",
                        "description": "The image tag group to be updated.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageTagGroup/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/ImageTagGroup/properties/display_name"
                                    },
                                    "is_single_value": {
                                        "$ref": "#/components/schemas/ImageTagGroup/properties/is_single_value"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Image tag group updated successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ImageTagGroup"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to update image tag group because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to update image tag group because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to update image tag group because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to update image tag group because no image tag group with the provided image_tag_group_id is found."
                    }
                }
            },
            "delete": {
                "description": "Delete image tag group. User needs to have `image_tags.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Tag Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_tag_group_id",
                        "in": "path",
                        "description": "The image tag group to be deleted.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageTagGroup/properties/id"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Image tag group deleted successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to delete image tag group because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to delete image tag group because the user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to delete image tag group because no image tag group with the provided image_tag_group_id is found."
                    }
                }
            }
        },
        "/api/image-tag-groups/{image_tag_group_id}/tags": {
            "post": {
                "description": "Create a new image tag for an image tag group. User needs to have `image_tags.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Tag Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_tag_group_id",
                        "in": "path",
                        "description": "The image tag group to be added image tag for.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageTagGroup/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/ImageTag/properties/display_name"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Image tag created successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ImageTag"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to create image tag because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to create image tag because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to create image tag because user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to create image tag because image tag group with image_tag_group_id does not exist."
                    }
                }
            }
        },
        "/api/image-tag-groups/{image_tag_group_id}/tags/{image_tag_id}": {
            "patch": {
                "description": "Update an image tag of an image tag group. User needs to have `image_tags.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Tag Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_tag_group_id",
                        "in": "path",
                        "description": "The image tag group to updated image tag for.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageTagGroup/properties/id"
                        },
                        "required": true
                    },
                    {
                        "name": "image_tag_id",
                        "in": "path",
                        "description": "The image tag to be updated.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageTag/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "display_name": {
                                        "$ref": "#/components/schemas/ImageTag/properties/display_name"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Image tag updated successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        },
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ImageTag"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Failed to updated image tag because the information provided does not satisfy the constraints."
                    },
                    "401": {
                        "description": "Failed to updated image tag because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to updated image tag because user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to updated image tag because image tag group with image_tag_group_id or image tag with image_tag_id does not exist."
                    }
                }
            },
            "delete": {
                "description": "Delete an image tag of an image tag group. User needs to have `image_tags.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Tag Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_tag_group_id",
                        "in": "path",
                        "description": "The image tag group to deleted image tag for.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageTagGroup/properties/id"
                        },
                        "required": true
                    },
                    {
                        "name": "region_label_id",
                        "in": "path",
                        "description": "The image tag to be deleted.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageTag/properties/id"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Image tag deleted successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to deleted image tag because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to deleted image tag because user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to deleted image tag because image tag group with image_tag_group_id or image tag with image_tag_id does not exist."
                    }
                }
            }
        },
        "/api/image-tag-groups/{image_tag_group_id}/types/": {
            "post": {
                "description": "Add an image type to the list of allowed image types of an image tag group. User needs to have `image_tags.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Tag Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_tag_group_id",
                        "in": "path",
                        "description": "The image tag group to deleted image tag for.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageTagGroup/properties/id"
                        },
                        "required": true
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "image_type_id": {
                                        "$ref": "#/components/schemas/ImageType/properties/id"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Added image type to image tag group successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to add image type to image tag group because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to add image type to image tag group because user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to add image type to image tag group because image tag group with image_tag_group_id or image type with image_type_id does not exist."
                    },
                    "409": {
                        "description": "Failed to add image type to image tag group because image tag group with image_tag_group_id already has image type with image_type_id in the list of allowed image types."
                    }
                }
            }
        },
        "/api/image-tag-groups/{image_tag_group_id}/types/{image_type_id}": {
            "delete": {
                "description": "Remove an image type from the list of allowed image types of an image tag group. User needs to have `image_tags.write` permission in order to call this API successfully.",
                "tags": [
                    "Image Tag Management"
                ],
                "security": [
                    {
                        "AuthenticationToken": []
                    }
                ],
                "parameters": [
                    {
                        "name": "image_tag_group_id",
                        "in": "path",
                        "description": "The image tag group to deleted image tag for.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageTagGroup/properties/id"
                        },
                        "required": true
                    },
                    {
                        "name": "image_type_id",
                        "in": "path",
                        "description": "The image type to be removed.",
                        "schema": {
                            "$ref": "#/components/schemas/ImageType/properties/id"
                        },
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Removed image type from image tag group successfully.",
                        "headers": {
                            "Authorization": {
                                "description": "Renewed authentication token, if the user old token is about to expire.",
                                "schema": {
                                    "$ref": "#/components/schemas/Token"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Failed to remove image type from image tag group because the user is not logged in."
                    },
                    "403": {
                        "description": "Failed to remove image type from image tag group because user does not have the necessary permission."
                    },
                    "404": {
                        "description": "Failed to remove image type from image tag group because image tag group with image_tag_group_id or image type with image_type_id does not exist."
                    },
                    "409": {
                        "description": "Failed to remove image type from image tag group because image tag group with image_tag_group_id does not have image type with image_type_id in the list of allowed image types."
                    }
                }
            }
        }
    }
}